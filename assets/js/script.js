jQuery(function(i){i("body");var t=i("html"),n=i(window);function e(){t.toggleClass("menu-active")}i("#menu").on({click:function(){e()}}),i(".menu-button").on({click:function(){e()}}),i(".hidden-close").on({click:function(){e()}});var s=i(".cover"),o=0;function a(){if(1<=s.length){var e=n.scrollTop();o=0<e?Math.floor(.25*e):0,s.css({"-webkit-transform":"translate3d(0, "+o+"px, 0)",transform:"translate3d(0, "+o+"px, 0)"}),n.scrollTop()<s.height()?t.addClass("cover-active"):t.removeClass("cover-active")}}a(),n.on({scroll:function(){a()},resize:function(){a()},orientationchange:function(){a()}});var c=i(".post-content");function r(){if(1<=c.length){var e=c.offset().top+c.height(),t=100-(e-(n.scrollTop()+n.height()))/(e-n.height())*100;i(".progress-bar").css("width",t+"%"),100<t?i(".progress-container").addClass("ready"):i(".progress-container").removeClass("ready")}}r(),n.on({scroll:function(){r()},resize:function(){r()},orientationchange:function(){r()}}),document.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),n=e.attributes.width.value/e.attributes.height.value;t.style.flex=n+" 1 0%"}),i("pre code").each(function(e,t){if(hljs.highlightBlock(t),!i(this).hasClass("language-text")){var n=i(this),s=n.html().split(/\n/).length,o=[];for(e=1;e<s;e++)o+='<span class="line">'+e+"</span>";n.parent().append('<div class="lines">'+o+"</div>")}}),i("#wrapper").fitVids(),"undefined"==typeof disqus?i(".post-comments").css({display:"none"}):i("#show-disqus").on("click",function(){i.ajax({type:"GET",url:"//"+disqus+".disqus.com/embed.js",dataType:"script",cache:!0}),i(this).parent().addClass("activated")})});